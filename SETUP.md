# í”„ë¡œì íŠ¸ ì„¸íŒ… ê°€ì´ë“œ

## ğŸ“Œ í”„ë¡œì íŠ¸ ì •ë³´
- **ì €ì¥ì†Œ:** https://github.com/busan-ingang-support/lyg153
- **í”„ë¡œë•ì…˜:** https://2a04156c.lyg153.pages.dev/
- **ë¡œì»¬ ê°œë°œ:** http://localhost:5173

## ğŸ—ï¸ ê°œë°œ í™˜ê²½ êµ¬ì¡°

### ë¡œì»¬ í™˜ê²½
- **DB ìœ„ì¹˜:** `.wrangler/state/v3/d1/` (ë¡œì»¬ SQLite)
- **DB íƒ€ì…:** ë¡œì»¬ D1 (í”„ë¡œë•ì…˜ê³¼ ì™„ì „íˆ ë¶„ë¦¬)
- **ìš©ë„:** ê°œë°œ ë° í…ŒìŠ¤íŠ¸

### í”„ë¡œë•ì…˜ í™˜ê²½
- **DB:** Cloudflare D1 (í´ë¼ìš°ë“œ)
- **ë°°í¬:** Cloudflare Pages
- **ìš©ë„:** ì‹¤ì œ ì„œë¹„ìŠ¤

## ğŸ”‘ SSH ì„¤ì • (ë‹¤ì¤‘ GitHub ê³„ì •)

### SSH Config (`~/.ssh/config`)
```
# ê¸°ì¡´ ê³„ì •
Host github.com-thesignaturestudio
  IdentityFile ~/.ssh/id_ed25519

# í˜„ì¬ í”„ë¡œì íŠ¸ìš© ê³„ì •
Host github.com-busan
  IdentityFile ~/.ssh/id_ed25519_busan
```

### Git Remote
```bash
origin: git@github.com-busan:busan-ingang-support/lyg153.git
```

## ğŸš€ ë°°í¬ ëª…ë ¹ì–´

### ì¼ë°˜ ê°œë°œ ë°°í¬ (ê°€ì¥ ë§ì´ ì‚¬ìš©)
```bash
npm run deploy:full
```
- DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ (ë§ˆì´ê·¸ë ˆì´ì…˜)
- ì½”ë“œ ë¹Œë“œ & ë°°í¬
- âš ï¸ ë°ì´í„°ëŠ” ê±´ë“œë¦¬ì§€ ì•ŠìŒ (ì•ˆì „)

### DB ìŠ¤í‚¤ë§ˆë§Œ ë³€ê²½
```bash
npm run deploy:db
```
- DB ë§ˆì´ê·¸ë ˆì´ì…˜ë§Œ ì‹¤í–‰
- ì½”ë“œ ë°°í¬ ì•ˆ í•¨

### ì½”ë“œë§Œ ë°°í¬
```bash
npm run deploy
```
- DB ë³€ê²½ ì—†ì´ ì½”ë“œë§Œ ë°°í¬

### ì²˜ìŒ ì„¸íŒ…í•  ë•Œë§Œ (ì£¼ì˜!)
```bash
npm run deploy:init
```
- âš ï¸ ì‹œë“œ ë°ì´í„° í¬í•¨ (ê¸°ì¡´ ë°ì´í„° ìˆìœ¼ë©´ ì‚¬ìš© ê¸ˆì§€)

### ì‹¤ì œ ìš´ì˜ ë°ì´í„° ì¶”ê°€
```bash
npm run db:data:prod
```
- `production-data.sql` íŒŒì¼ ì‹¤í–‰

## ğŸ› ï¸ ë¡œì»¬ ê°œë°œ ëª…ë ¹ì–´

```bash
# ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev

# ë¡œì»¬ DB ë¦¬ì…‹
npm run db:reset

# CSS ë¹Œë“œ
npm run build:css
```

## ğŸ“ ì¤‘ìš” íŒŒì¼ êµ¬ì¡°

```
malgn_edu/
â”œâ”€â”€ migrations/              # DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ (ì¤‘ìš”!)
â”‚   â”œâ”€â”€ 0001_initial_schema.sql
â”‚   â”œâ”€â”€ 0002_add_history_and_counseling.sql
â”‚   â””â”€â”€ ...
â”œâ”€â”€ seed.sql                 # í…ŒìŠ¤íŠ¸ìš© ì´ˆê¸° ë°ì´í„° (ë¡œì»¬ ì „ìš©)
â”œâ”€â”€ production-data.sql      # ì‹¤ì œ ìš´ì˜ ë°ì´í„° ì¶”ê°€ìš©
â”œâ”€â”€ wrangler.jsonc           # Cloudflare ì„¤ì •
â””â”€â”€ package.json             # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
```

## âš ï¸ ì¤‘ìš” ì‚¬í•­

1. **í”„ë¡œë•ì…˜ DBëŠ” ê±´ë“œë¦¬ì§€ ì•Šê¸°**
   - `deploy:full` ì‚¬ìš© (ìŠ¤í‚¤ë§ˆë§Œ ë³€ê²½)
   - `deploy:init`ëŠ” ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€ (ë°ì´í„° ë®ì–´ì”€)

2. **ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ì€ ìˆœì°¨ì ìœ¼ë¡œ**
   - ìƒˆ íŒŒì¼: `migrations/0007_xxx.sql`
   - í•œ ë²ˆ ë°°í¬ëœ ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ìˆ˜ì •í•˜ì§€ ì•Šê¸°

3. **Git ì‘ì—…**
   ```bash
   git add -A
   git commit -m "ë©”ì‹œì§€"
   git push origin main
   ```

## ğŸ“Š í˜„ì¬ ìƒíƒœ (2025-11-14)

- âœ… ë¡œì»¬ ê°œë°œ í™˜ê²½ êµ¬ì¶• ì™„ë£Œ
- âœ… SSH ë‹¤ì¤‘ ê³„ì • ì„¤ì • ì™„ë£Œ
- âœ… ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ìë™í™” ì™„ë£Œ
- âœ… ë¶ˆí•„ìš”í•œ ë”ë¯¸ íŒŒì¼ ì •ë¦¬ ì™„ë£Œ
- âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìˆ˜ì • ì™„ë£Œ
- ğŸ”„ ë§ˆì§€ë§‰ ì»¤ë°‹: `415e7b7`

## ğŸ”„ ì¼ë°˜ì ì¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°

1. **ë¡œì»¬ì—ì„œ ê°œë°œ**
   ```bash
   npm run dev
   # http://localhost:5173 ì ‘ì†
   ```

2. **DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ì´ í•„ìš”í•˜ë©´**
   - `migrations/` í´ë”ì— ìƒˆ SQL íŒŒì¼ ìƒì„±
   - ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸: `npm run db:reset`

3. **ê°œë°œ ì™„ë£Œ í›„**
   ```bash
   git add -A
   git commit -m "ê¸°ëŠ¥ ì„¤ëª…"
   git push origin main
   npm run deploy:full
   ```

---

**ë‹¤ìŒ ëŒ€í™” ì‹œì‘ ì‹œ ì´ íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.**

